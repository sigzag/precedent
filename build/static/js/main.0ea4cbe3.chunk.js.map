{"version":3,"sources":["index.js","components/Action.js","hooks/useNavigation.js","hooks/useSocket.js","hooks/useFetch.js","hooks/useToggle.js","hooks/useInputRef.js","hooks/useTransform.js","hooks/useQueue.js","components/Header.js","components/Card.js","screens/Register.js","screens/Lobby.js","screens/Room.js","screens/Game/index.js","screens/Game/2d.js","styles.css","components/index.js","hooks/index.js","App.js","components/Transform.js","components/Button.js","screens/Chat.js"],"names":["_react","__webpack_require__","_reactDom","_App","_interopRequireDefault","render","createElement","App","document","getElementById","_ref","event","data","props","_objectWithoutProperties2","default","socket","_hooks","useSocket","onPress","useCallback","sendData","undefined","send","_Button","_extends2","_interopRequireWildcard","useContext","navigationContext","fn","socketContext","useEffect","on","removeListener","path","_useState","useState","_useState2","_slicedToArray2","res","setRes","fetch","concat","then","json","catch","e","console","error","state","setState","toggle","prev","initialValue","useRef","onChangeText","value","current","transforms","arguments","length","source","context","mat4","create","matrix","reduce","_ref2","_toArray2","action","args","slice","apply","_glMatrix","_toConsumableArray2","clone","toSVGTransform","_Transform","translation","getTranslation","vec3","rotation","getEulerAngle","getRotation","quat","round","Math","PI","out","a","atan2","sp","abs","sign","asin","removeRotation","vec","fromTranslation","interval","setCurrent","queue","timeout","add","item","setTimeout","shift","push","clearTimeout","_reactNative","Text","style","styles","text","header","_styles","_ref$transforms","s","n","stroke","_useTransform","useTransform","transform","color","_reactNativeSvg","G","card","onClick","Rect","rx","width","height","x","y","strokeWidth","fill","Fragment","dominantBaseline","textAnchor","number","values","smallSuit","suits","suit","_useInputRef","useInputRef","_useInputRef2","name","setName","_components","Input","Action","_useToggle","useToggle","_useToggle2","Create","Rooms","rooms","setRooms","next","find","room","id","map","filter","Row","Header","flex","Button","Column","key","players","rules","size","_useInputRef3","_useInputRef4","setPlayers","Picker","defaultValue","onValueChange","Item","label","user","mine","_Chat","Dimensions","get","Svg","viewBox","scene","Defs","Pattern","patternUnits","Circle","cx","cy","r","_d","TAU","_useTransform2","_useQueue","useQueue","_useQueue2","_useQueue2$","_useQueue2$$game","game","turn","draw","plays","hands","legal","orNothing","pile","Array","isArray","index","findIndex","Transform","Pile","cards","Fan","play","i","player","Coplayer","position","Player","sin","cos","_useTransform3","Card","_ref3","theta","Sprite","_ref4","_ref4$transforms","_useTransform5","TextSprite","_ref5","children","fontFamily","fontSize","_ref6","_useTransform7","log","_ref7","_useTransform9","selected","setSelected","selectable","other","equalCards","flat","legalPlay","b","skip","pass","PlayerCard","select","_ref8","_ref8$transforms","StyleSheet","module","exports","body","flexGrow","flexShrink","flexBasis","display","flexDirection","alignItems","justifyContent","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","backgroundColor","input","button","borderWidth","borderColor","borderStyle","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","form .input","form .select","form .button","overflow","row","column","chat","message","lineHeight","_Action","_Header","_Card","createStyledComponent","Component","_len","_key","View","RNText","TextInput","_useNavigation","_useSocket","_useFetch","useMemo","_socket","navigationState","navigate","alert","screen","Provider","absoluteFill","Screen","_Register","_Lobby","_Room","_Game","createContext","_ref$data","TouchableOpacity","Messages","Message","messages","setMessages","reverse","_useState3","_useState4","setMessage","sendMessage","alignSelf"],"mappings":"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","file":"static/js/main.0ea4cbe3.chunk.js","sourcesContent":["import { createElement } from 'react';\nimport { render } from 'react-dom';\nimport App from './App';\n\nrender(\n\tcreateElement(App),\n\tdocument.getElementById('react-root'),\n);\n","import React, { useCallback } from 'react';\nimport { useSocket } from '../hooks';\nimport Button from './Button';\n\nexport default function Action({ event, data, ...props }) {\n\tconst socket = useSocket();\n\tconst onPress = useCallback(() => {\n\t\tconst sendData =\n\t\t\ttypeof data === 'function'\n\t\t\t\t? data() || null\n\t\t\t\t: data;\n\t\tif (sendData || sendData === undefined)\n\t\t\tsocket.send(event, sendData);\n\t}, [socket, event, data])\n\treturn <Button {...props} onPress={onPress} />;\n}\n","import { useContext } from 'react';\nimport { navigationContext } from '../App.js';\n\nexport default function useNavigation() {\n  return useContext(navigationContext);\n}\n","import { useContext, useEffect } from 'react';\nimport { socketContext } from '../App.js';\n\nexport default function useSocket(event, fn) {\n\tconst socket = useContext(socketContext);\n\tuseEffect(() => {\n\t\tif (typeof event === 'string' && typeof fn === 'function') {\n\t\t\tsocket.on(event, fn);\n\t\t\treturn () => socket.removeListener(event, fn);\n\t\t}\n\t}, [event]);\n\treturn socket;\n}\n","import { useState, useEffect } from 'react';\n\nexport default function useFetch(path) {\n\tconst [res, setRes] = useState(null);\n\tuseEffect(() => {\n\t\tfetch(`http://localhost:4000/${path}`)\n\t\t\t.then((res) => res.json())\n\t\t\t.then(setRes)\n\t\t\t.catch((e) => console.error(e));\n\t}, [path]);\n\treturn res;\n}\n","import { useState, useCallback } from 'react';\n\nexport default function useToggle() {\n\tconst [state, setState] = useState(false);\n\tconst toggle = useCallback(() => setState((prev) => !prev), []);\n\treturn [state, toggle];\n}","import { useRef, useCallback } from 'react';\n\nexport default function useInputRef(initialValue) {\n\tconst state = useRef(initialValue);\n\tconst onChangeText = useCallback((value) => state.current = value, []);\n\treturn [state, onChangeText];\n}","import { useContext } from 'react';\nimport { mat4, vec3, quat } from 'gl-matrix';\nimport { context } from '../components/Transform';\n\nmat4.removeRotation = function removeRotation(out, a) {\n\tconst vec = vec3.create();\n\tmat4.getTranslation(vec, a);\n\tmat4.fromTranslation(out, vec);\n\treturn out;\n}\n\nexport default function useTransform(transforms = []) {\n\tconst source = useContext(context) || mat4.create();\n\tconst matrix = transforms.reduce(\n\t\t(matrix, [action, ...args]) => mat4[action](matrix, matrix, ...args),\n\t\tmat4.clone(source),\n\t);\n\treturn [matrix, toSVGTransform(matrix)];\n}\n\nfunction toNativeTransform(matrix) {\n\tconst translation = mat4.getTranslation(vec3.create(), matrix);\n\tconst rotation = getEulerAngle(vec3.create(), mat4.getRotation(quat.create(), matrix));\n\treturn [\n\t\t{ translateX: translation[0] },\n\t\t{ translateY: translation[1] },\n\t\t{ rotateX: rotation[0] },\n\t\t{ rotateY: rotation[1] },\n\t\t{ rotateZ: rotation[2] },\n\t];\n}\nfunction toSVGTransform(matrix) {\n\tconst translation = mat4.getTranslation(vec3.create(), matrix);\n\tconst rotation = getEulerAngle(vec3.create(), mat4.getRotation(quat.create(), matrix));\n\treturn `\n\t\ttranslate(${round(translation[0])} ${round(translation[1])})\n\t\trotate(${round(deg(rotation[0]))} 0 0)\n\t`;\n}\nfunction toCSSTransform(matrix) {\n\treturn `\n\t\ttranslate(-50%, -50%)\n\t\tmatrix3d(${matrix.map(round).join(',')})\n\t`;\n}\n\nfunction getEulerAngle(out, a) {\n\tout[0] = Math.atan2(\n\t\t2 * (a[0] * a[3] + a[1] * a[2]),\n\t\t1 - 2 * (a[0] * a[0] + a[1] * a[1]),\n\t);\n\n\tconst sp = 2 * (a[1] * a[3] - a[0] * a[2]);\n\tout[1] =\n\t\tMath.abs(sp) >= 1\n\t\t\t? Math.PI / 2 * Math.sign(sp)\n\t\t\t: Math.asin(sp);\n\n\tout[0] = Math.atan2(\n\t\t2 * (a[2] * a[3] + a[0] * a[1]),\n\t\t1 - 2 * (a[1] * a[1] + a[2] * a[2]),\n\t);\n\n\treturn out;\n}\n\nfunction round(value) {\n\treturn Math.round(value * 100000) / 100000;\n}\n\nfunction deg(rad) {\n\treturn 180 * rad / Math.PI;\n}\n","import { useState, useEffect, useCallback, useRef } from 'react';\n\nexport default function useQueue(interval, initialValue) {\n\tconst [current, setCurrent] = useState(initialValue);\n\tconst queue = useRef([]);\n\tconst timeout = useRef();\n\tconst add = useCallback((item) => {\n\t\tif (!queue.current.length)\n\t\t\ttimeout.current = setTimeout(shift, interval)\n\t\tqueue.current.push(item);\n\t}, [interval]);\n\tconst shift = useCallback(() => {\n\t\tif (queue.current.length)\n\t\t\tsetCurrent(queue.current.shift());\n\t\tif (queue.current.length)\n\t\t\ttimeout.current = setTimeout(shift, interval);\n\t}, [interval]);\n\tuseEffect(() => () => clearTimeout(timeout.current), []);\n\treturn [current, add];\n}\n","import React from 'react';\nimport { Text } from 'react-native';\nimport styles from '../styles.css';\n\nexport default function Header(props) {\n\treturn <Text {...props} style={[styles.text, styles.header, props.style]} />\n}\n","import React from 'react';\nimport { useTransform } from '../hooks';\nimport { G, Rect, Text } from 'react-native-svg';\nimport styles from '../styles.css';\n\nexport default function Card({ transforms = [], style, s, n, stroke, onPress }) {\n\tconst [, transform] = useTransform(transforms);\n\tconst color = s & 1 ? 'red' : 'black';\n\treturn (\n\t\t<G style={[styles.card, style]} transform={transform}  onClick={onPress} onPress={onPress}>\n\t\t\t<Rect\n\t\t\t\trx=\"7\"\n\t\t\t\twidth=\"50\"\n\t\t\t\theight=\"100\"\n\t\t\t\tx=\"-25\"\n\t\t\t\ty=\"-50\"\n\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\tstroke={stroke || 'black'}\n\t\t\t\tfill={s !== undefined ? 'white' : 'url(#pattern)'}\n\t\t\t/>\n\t\t\t{s !== undefined && (\n\t\t\t\t<>\n\t\t\t\t\t<Text x=\"-10\" y=\"-30\" style={[{ fill: color, dominantBaseline: 'text-before-edge', textAnchor: 'middle' }, styles.number]}>\n\t\t\t\t\t\t{s !== undefined ? values[n] : '?'}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text x=\"-10\" y=\"-12\" style={[{ fill: color, dominantBaseline: 'text-before-edge', textAnchor: 'middle' }, styles.smallSuit]}>\n\t\t\t\t\t\t{s !== undefined ? suits[s] : '?'}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text y=\"20\" style={[{ fill: color, dominantBaseline: 'central', textAnchor: 'middle' }, styles.suit]}>\n\t\t\t\t\t\t{s !== undefined ? suits[s] : '?'}\n\t\t\t\t\t</Text>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</G>\n\t)\n}\n\nconst values = [3, 4, 5, 6, 7, 8, 9, 10, 'J', 'Q', 'K', 'A', 2];\nconst suits = ['⚣', '⚢', '⚤', '♥'];\n","import React, { useCallback } from 'react';\nimport { useInputRef } from '../hooks';\nimport { Action, Input } from '../components';\n\nexport default function Register() {\n\tconst [name, setName] = useInputRef('');\n\tconst data = useCallback(() => name.current, []);\n\treturn (\n\t\t<>\n\t\t\t<Input onChangeText={setName} />\n\t\t\t<Action event=\"register\" data={data}>Register!</Action>\n\t\t</>\n\t);\n}\n","import React, { useState, useCallback } from 'react';\nimport { useToggle, useSocket, useInputRef } from '../hooks';\nimport { Column, Row, Button, Action, Header, Input, Picker } from '../components'\n\nexport default function Lobby(props) {\n\tconst [create, toggle] = useToggle();\n\treturn create ? (\n\t\t<Create toggle={toggle} />\n\t) : (\n\t\t<Rooms {...props} toggle={toggle} />\n\t);\n}\n\nfunction Rooms(props) {\n\tconst [rooms, setRooms] = useState(props.rooms);\n\tuseSocket('open', (next) => setRooms((rooms) =>\n\t\trooms.find((room) => room.id === next.id)\n\t\t\t? rooms\n\t\t\t: [...rooms, next]\n\t));\n\tuseSocket('update', (next) => setRooms((rooms) =>\n\t\trooms.find((room) => room.id === next.id)\n\t\t\t? rooms.map((room) => room.id === next.id ? next : room)\n\t\t\t: [...rooms, next]\n\t));\n\tuseSocket('close', (prev) => setRooms((rooms) =>\n\t\trooms.find((room) => room.id === prev.id)\n\t\t\t? rooms.filter((room) => room.id !== prev.id)\n\t\t\t: rooms\n\t));\n\n\treturn (\n\t\t<>\n\t\t\t<Row>\n\t\t\t\t<Header style={{ flex: 1 }}>Rooms</Header>\n\t\t\t\t<Button onPress={props.toggle}>create room</Button>\n\t\t\t</Row>\n\t\t\t<Column>\n\t\t\t\t{rooms.map((room) =>\n\t\t\t\t\t<Row key={room.id}>\n\t\t\t\t\t\t<Action event=\"enter\" data={room.id}>{room.name} - {room.players.length} / {room.rules.size}</Action>\n\t\t\t\t\t</Row>\n\t\t\t\t)}\n\t\t\t</Column>\n\t\t</>\n\t);\n}\n\nfunction Create(props) {\n\tconst [name, setName] = useInputRef('');\n\tconst [players, setPlayers] = useInputRef(3);\n\tconst data = useCallback(() => ({ name: name.current, players: players.current }), []);\n\n\treturn (\n\t\t<>\n\t\t\t<Row>\n\t\t\t\t<Header style={{ flex: 1 }}>Create room</Header>\n\t\t\t\t<Button onClick={props.toggle}>cancel</Button>\n\t\t\t</Row>\n\t\t\t<Column>\n\t\t\t\t<Input onChangeText={setName} />\n\t\t\t\t<Picker defaultValue={3} onValueChange={setPlayers}>\n\t\t\t\t\t<Picker.Item label=\"2\" value={2} />\n\t\t\t\t\t<Picker.Item label=\"3\" value={3} />\n\t\t\t\t\t<Picker.Item label=\"4\" value={4} />\n\t\t\t\t\t<Picker.Item label=\"5\" value={5} />\n\t\t\t\t</Picker>\n\t\t\t\t<Action event=\"create\" data={data}>Create!</Action>\n\t\t\t</Column>\n\t\t</>\n\t);\n}\n","import React, { useState } from 'react';\nimport { useSocket } from '../hooks';\nimport { Column, Row, Action, Header, Text } from '../components';\nimport Chat from './Chat';\n\nexport default function Room(props) {\n\tconst [room, setState] = useState(props.room);\n\tuseSocket('room', setState);\n\n\treturn (\n\t\t<>\n\t\t\t<Row>\n\t\t\t\t<Header style={{ flex: 1 }}>{room.name} - {room.players.length} / {room.rules.size}</Header>\n\t\t\t\t<Action event=\"exit\">leave</Action>\n\t\t\t</Row>\n\t\t\t<Column>\n\t\t\t\t{room.players.map((user) =>\n\t\t\t\t\t<Text key={user.id}>{user.name}</Text>\n\t\t\t\t)}\n\t\t\t</Column>\n\t\t\t{room.mine && (\n\t\t\t\t<Action event=\"start\">Start game</Action>\n\t\t\t)}\n\t\t\t<Chat />\n\t\t</>\n\t);\n}\n","import React from 'react';\nimport { Dimensions } from 'react-native';\nimport { Svg, Defs, Pattern, Circle, Text } from 'react-native-svg';\nimport { Row, Action, Header } from '../../components';\nimport Chat from '../Chat';\nimport Table from './2d';\nimport styles from '../../styles.css';\n\nexport default function Game({ room }) {\n\tconst { width } = Dimensions.get('window');\n\n\treturn (\n\t\t<>\n\t\t\t<Row>\n\t\t\t\t<Header style={{ flex: 1 }}>{room.name} - {room.players.length} / {room.rules.size}</Header>\n\t\t\t\t<Action event=\"exit\">leave</Action>\n\t\t\t</Row>\n\t\t\t<Svg width={width} height={width} viewBox=\"-350 -350 700 700\" style={styles.scene}>\n\t\t\t\t<Defs>\n\t\t\t\t\t<Pattern id=\"pattern\" x=\"0\" y=\"0\" width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\">\n\t\t\t\t\t    <Circle cx=\"10\" cy=\"10\" r=\"10\" stroke=\"none\" fill=\"#0000ff\"/>\n\t\t\t\t\t</Pattern>\n\t\t\t\t</Defs>\n\t\t\t\t<Table room={room} />\n\t\t\t</Svg>\n\t\t\t<Chat />\n\t\t</>\n\t);\n}\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { useSocket, useTransform, useQueue } from '../../hooks';\nimport { Circle, Text, G } from 'react-native-svg';\nimport { Transform, Card, View } from '../../components';\nimport styles from '../../styles.css';\n\nexport default function Table({ room }) {\n\tconst [matrix, transform] = useTransform([\n\t\t// ['rotateX', TAU / 5],\n\t\t['rotateZ', TAU / 4],\n\t]);\n\tconst [{\n\t\tplayers,\n\t\tgame: {\n\t\t\tsize,\n\t\t\tturn,\n\t\t\tdraw,\n\t\t\tplays,\n\t\t\thands,\n\t\t\tlegal,\n\t\t\torNothing,\n\t\t},\n\t}, queue] = useQueue(500, room);\n\tuseSocket('room', queue);\n\n\tconst pile = plays.filter(Array.isArray);\n\tconst index = hands.findIndex(Array.isArray);\n\n\treturn (\n\t\t<Transform value={matrix}>\n\t\t\t<Circle r=\"250\" fill=\"forestgreen\" transform={transform} />\n\t\t\t<Pile cards={draw} transforms={[['translate', [-100, 0, 0]]]} />\n\t\t\t{!!pile.length && (\n\t\t\t\t<Fan cards={pile[0]} />\n\t\t\t)}\n\t\t\t{pile.slice(1).map((play, i, plays) =>\n\t\t\t\t<Pile\n\t\t\t\t\tkey={i}\n\t\t\t\t\tcards={play}\n\t\t\t\t\ttransforms={[['translate', [100, 0, plays.length - i]]]}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{players.map((player, i) =>\n\t\t\t\tindex !== i && <Coplayer\n\t\t\t\t\tkey={player.id}\n\t\t\t\t\t{...player}\n\t\t\t\t\tcards={hands[i]}\n\t\t\t\t\taction={(turn - 1) % size === i ? plays[0] : null}\n\t\t\t\t\tposition={(index - i) % size / size}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Player\n\t\t\t\tcards={hands[index]}\n\t\t\t\tlegal={legal || []}\n\t\t\t\torNothing={orNothing}\n\t\t\t/>\n\t\t</Transform>\n\t);\n}\n\nconst { sin, cos } = Math;\nconst TAU = 2 * Math.PI;\n\nfunction Pile({ cards, transforms }) {\n\tconst [matrix] = useTransform(transforms);\n\n\treturn (\n\t\t<Transform value={matrix}>\n\t\t\t{cards.map((card, i) =>\n\t\t\t\t<Card\n\t\t\t\t\t{...card}\n\t\t\t\t\tkey={card.s !== undefined ? `${card.s}-${card.n}` : i}\n\t\t\t\t\ttransforms={[\n\t\t\t\t\t\t['translate', [0, 0, i]],\n\t\t\t\t\t\t['rotateX', card.s !== undefined ? 0 : TAU / 2],\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Transform>\n\t);\n}\n\nfunction Fan({ cards }) {\n\tconst theta = TAU / 5 / cards.length;\n\treturn cards.map((card, i) =>\n\t\t<Card\n\t\t\t{...card}\n\t\t\tkey={card.s !== undefined ? `${card.s}-${card.n}` : i}\n\t\t\ttransforms={[\n\t\t\t\t['translate', [sin(i * theta) * 100, sin(i * theta) * 200, i]],\n\t\t\t\t['rotateZ', i * theta],\n\t\t\t]}\n\t\t/>\n\t);\n}\n\nfunction Sprite({ transforms = [], ...props }) {\n\tconst [, transform] = useTransform([\n\t\t...transforms,\n\t\t['removeRotation']\n\t]);\n\treturn <G {...props} transform={transform} />;\n}\nfunction TextSprite({ children, onPress, ...props }) {\n\treturn <Sprite onClick={onPress} onPress={onPress} {...props}><Text textAnchor=\"middle\" fontFamily=\"Bungee-Regular\" fontSize=\"35\" fill=\"rgb(255, 36, 0)\">{children}</Text></Sprite>;\n}\n\nfunction Coplayer({ name, cards, action, position }) {\n\tconst theta = TAU * position;\n\tconst [matrix] = useTransform([\n\t\t['translate', [cos(theta) * 250, sin(theta) * 250, 0]],\n\t]);\n\n\tconsole.log(cards);\n\n\treturn (\n\t\t<Transform value={matrix}>\n\t\t\t<TextSprite transforms={[['translate', [0, 0, 0]]]}>{name}</TextSprite>\n\t\t\t{cards ? (\n\t\t\t\t<TextSprite transforms={[['translate', [40, 0, 0]]]}>{`${cards} cards left`}</TextSprite>\n\t\t\t) : (\n\t\t\t\t<TextSprite transforms={[['translate', [40, 0, 0]]]}>finished</TextSprite>\n\t\t\t)}\n\t\t\t{typeof action === 'string' && (\n\t\t\t\t<TextSprite transforms={[['translate', [80, 0, 0]]]}>{action}</TextSprite>\n\t\t\t)}\n\t\t</Transform>\n\t)\n}\n\nfunction Player({ cards, legal, orNothing }) {\n\tconst [matrix] = useTransform([\n\t\t['translate', [200, 0, 0]],\n\t\t['rotateZ', -TAU / 4],\n\t]);\n\n\tconst [selected, setSelected] = useState([]);\n\tuseEffect(() => setSelected((selected) => selected.length ? [] : selected), [legal]);\n\tconst selectable = legal.filter(\n\t\t(play) => !selected.find((card) => !play.find((other) => equalCards(card, other)))\n\t).flat();\n\n\tconst socket = useSocket();\n\tconst legalPlay = legal.find((play) => equalPlays(play, selected));\n\tconst play = useCallback(() => legalPlay && socket.send('play', legalPlay), [socket, legalPlay]);\n\tconst skip = useCallback(() => socket.send('play', 'SKIP'), [socket]);\n\tconst pass = useCallback(() => socket.send('play', 'PASS'), [socket]);\n\n\treturn (\n\t\t<Transform value={matrix}>\n\t\t\t{(Array.isArray(cards)\n\t\t\t\t? cards\n\t\t\t\t: new Array(cards).fill({})\n\t\t\t).map((card, i, cards) => {\n\t\t\t\treturn (\n\t\t\t\t\t<PlayerCard\n\t\t\t\t\t\t{...card}\n\t\t\t\t\t\tkey={card.s !== undefined ? `${card.s}-${card.n}` : i}\n\t\t\t\t\t\ttransforms={[\n\t\t\t\t\t\t\t['translate', [i / (cards.length - 1) * 500 - 250, 0, 0]],\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tselect={selectable.find((other) => equalCards(card, other)) && setSelected}\n\t\t\t\t\t\tselected={selected.find((other) => equalCards(card, other))}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t{!!legal.length && (\n\t\t\t\t<>\n\t\t\t\t\t<TextSprite onPress={play} transforms={[['translate', [0, 90, 0]]]}>play</TextSprite>\n\t\t\t\t\t<TextSprite onPress={orNothing ? skip : pass} transforms={[['translate', [0, 120, 0]]]}>{orNothing ? 'skip' : 'pass'}</TextSprite>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Transform>\n\t);\n}\n\nfunction PlayerCard({ transforms = [], select, selected, ...props }) {\n\tconst toggle = useCallback(\n\t\t() => select && select((prev) =>\n\t\t\tprev.find((card) => equalCards(props, card))\n\t\t\t\t? prev.filter((card) => !equalCards(props, card))\n\t\t\t\t: [...prev, props]\n\t\t),\n\t\t[select],\n\t);\n\tconst stroke = selected ? 'lime' : select ? 'dodgerblue' : null;\n\ttransforms = [...transforms, ['translate', [0, selected ? -20 : select ? -10 : 0, 0]]];\n\n\treturn (\n\t\t<Card\n\t\t\t{...props}\n\t\t\tstroke={stroke}\n\t\t\ttransforms={transforms}\n\t\t\tonPress={toggle}\n\t\t/>\n\t);\n}\n\nfunction equalPlays(a, b) {\n\treturn (\n\t\ta && b &&\n\t\ta.length === b.length &&\n\t\t!a.find((a) => !b.find((b) => equalCards(a, b)))\n\t);\n}\nfunction equalCards(a, b) {\n\treturn (\n\t\ta && b &&\n\t\ta.s === b.s &&\n\t\ta.n === b.n\n\t);\n}\n","\n\t\t\tconst { StyleSheet, Dimensions } = require('react-native');\n\t\t\tconst sheet = {\n  \"body\": {\n    \"flexGrow\": 1,\n    \"flexShrink\": 1,\n    \"flexBasis\": 0,\n    \"display\": \"flex\",\n    \"flexDirection\": \"column\",\n    \"alignItems\": \"center\",\n    \"justifyContent\": \"center\",\n    \"marginTop\": 0,\n    \"marginRight\": 0,\n    \"marginBottom\": 0,\n    \"marginLeft\": 0,\n    \"paddingTop\": 0,\n    \"paddingRight\": 0,\n    \"paddingBottom\": 0,\n    \"paddingLeft\": 0,\n    \"backgroundColor\": \"rgb(234, 234, 219)\"\n  },\n  \"input\": {\n    \"fontSize\": \"1.5rem\",\n    \"backgroundColor\": \"white\",\n    \"paddingTop\": \".375rem\",\n    \"paddingRight\": \".5rem\",\n    \"paddingBottom\": \".375rem\",\n    \"paddingLeft\": \".5rem\"\n  },\n  \"select\": {\n    \"fontSize\": \"1.5rem\"\n  },\n  \"button\": {\n    \"fontSize\": \"1.5rem\",\n    \"backgroundColor\": \"rgb(255, 36, 0)\",\n    \"borderWidth\": 0,\n    \"borderColor\": \"black\",\n    \"borderStyle\": \"solid\",\n    \"color\": \"white\",\n    \"paddingTop\": \"0rem\",\n    \"paddingRight\": \".5rem\",\n    \"paddingBottom\": \"0rem\",\n    \"paddingLeft\": \".5rem\",\n    \"borderTopWidth\": 0,\n    \"borderRightWidth\": 4,\n    \"borderBottomWidth\": 3,\n    \"borderLeftWidth\": 0\n  },\n  \"form .input\": {\n    \"marginBottom\": \".5rem\"\n  },\n  \"form .select\": {\n    \"marginBottom\": \".5rem\"\n  },\n  \"form .button\": {\n    \"marginBottom\": \".5rem\"\n  },\n  \"text\": {\n    \"color\": \"rgb(255, 36, 0)\",\n    \"fontFamily\": \"Bungee-Regular\",\n    \"fontSize\": \"2rem\"\n  },\n  \"scene\": {\n    \"overflow\": \"visible\"\n  },\n  \"suit\": {\n    \"fontSize\": 30,\n    \"fontFamily\": \"auto\"\n  },\n  \"smallSuit\": {\n    \"fontSize\": 20,\n    \"fontFamily\": \"auto\"\n  },\n  \"number\": {\n    \"fontSize\": 20\n  },\n  \"row\": {\n    \"display\": \"flex\",\n    \"alignItems\": \"center\",\n    \"flexDirection\": \"row\"\n  },\n  \"column\": {\n    \"display\": \"flex\",\n    \"alignItems\": \"center\",\n    \"flexDirection\": \"column\"\n  },\n  \"chat\": {\n    \"backgroundColor\": \"white\",\n    \"display\": \"flex\",\n    \"flexDirection\": \"column-reverse\",\n    \"height\": \"15rem\",\n    \"overflow\": \"hidden\",\n    \"paddingTop\": \".25rem\",\n    \"paddingRight\": \".25rem\",\n    \"paddingBottom\": \".25rem\",\n    \"paddingLeft\": \".25rem\"\n  },\n  \"message\": {\n    \"color\": \"#26547C\",\n    \"marginLeft\": \".5rem\",\n    \"lineHeight\": \"1.5rem\"\n  }\n};\n\t\t\tmodule.exports = StyleSheet.create(sheet);\n\t\t","import React from 'react';\nimport { View, Text as RNText, TextInput, Picker} from 'react-native';\nimport styles from '../styles.css';\n\nexport { default as Transform } from './Transform';\nexport { default as Button } from './Button';\nexport { default as Action } from './Action';\nexport { default as Header } from './Header';\nexport { default as Card } from './Card';\n\nfunction createStyledComponent(Component, ...styles) {\n\treturn function(props) {\n\t\treturn <Component {...props} style={[...styles, props.style]} />;\n\t}\n}\n\nexport const Row = createStyledComponent(View, styles.row);\nexport const Column = createStyledComponent(View, styles.column);\nexport const Text = createStyledComponent(RNText, styles.text);\nexport const Input = createStyledComponent(TextInput, styles.input);\n\nexport { View, Picker };\n","export { default as useNavigation } from './useNavigation';\nexport { default as useSocket } from './useSocket';\nexport { default as useFetch } from './useFetch';\nexport { default as useToggle } from './useToggle';\nexport { default as useInputRef } from './useInputRef';\nexport { default as useTransform } from './useTransform';\nexport { default as useQueue } from './useQueue';\n","import React, { useState, useEffect, useMemo, createContext } from 'react';\nimport { StyleSheet } from 'react-native';\nimport { View } from './components';\nimport io from 'socket.io-client';\nimport Register from './screens/Register';\nimport Lobby from './screens/Lobby';\nimport Room from './screens/Room';\nimport Game from './screens/Game';\nimport styles from './styles.css';\n\nexport const socketContext = createContext();\nexport const navigationContext = createContext();\n\nexport default function App() {\n\tconst socket = useMemo(() => io('http://localhost:4000'), []);\n\tconst [navigationState, navigate] = useState({});\n\n\tuseEffect(() => {\n\t\tsocket.on('alert', alert);\n\t\tsocket.on('rooms', (rooms) => navigate({ screen: 'Lobby', data: { rooms } }));\n\t\tsocket.on('room', (room) => {\n\t\t\tif (room.game)\n\t\t\t\tnavigate({ screen: 'Game', data: { room } });\n\t\t\telse\n\t\t\t\tnavigate({ screen: 'Room', data: { room } });\n\t\t});\n\n\t\t// socket.send('register', 'sig');\n\t\t// socket.send('create', { name: 'game', players: 3 });\n\t\t// socket.send('start');\n\t}, [socket]);\n\n\treturn (\n\t\t<navigationContext.Provider value={navigate}>\n\t\t\t<socketContext.Provider value={socket}>\n\t\t\t\t<View style={[styles.body, StyleSheet.absoluteFill]}>\n\t\t\t\t\t<Screen {...navigationState} />\n\t\t\t\t\t{/* <Game room={{ */}\n\t\t\t\t\t{/* \tplayers: [{ name: 'sig', id: 'sig' }, { name: 'min', id: 'min' }], */}\n\t\t\t\t\t{/* \tgame: { players: [{ name: 'sig', id: 'sig', cards: new Array(11).fill({}) }, { name: 'min', id: 'min', cards: [] }], pile: [], draw: new Array(10).fill({}) }, */}\n\t\t\t\t\t{/* \trules: { size: 2 }, */}\n\t\t\t\t\t{/* }} /> */}\n\t\t\t\t</View>\n\t\t\t</socketContext.Provider>\n\t\t</navigationContext.Provider>\n\t);  \n}\n\nfunction Screen({ screen, data = {} }) {\n\tswitch (screen) {\n\tcase 'Lobby':\n\t\treturn <Lobby {...data} />;\n\tcase 'Room':\n\t\treturn <Room {...data} />;\n\tcase 'Game':\n\t\treturn <Game {...data} />;\n\tdefault:\n\t\treturn <Register />;\n\t}\n}\n","import React, { createContext } from 'react';\n\nexport const context = createContext();\n\nexport default function Transform(props) {\n\treturn (\n\t\t<context.Provider {...props} />\n\t);\n}\n","import React from 'react';\nimport { Text, TouchableOpacity } from 'react-native';\nimport styles from '../styles.css';\n\nexport default function Button({ children, ...props }) {\n\treturn (\n\t\t<TouchableOpacity {...props}>\n\t\t\t<Text style={[styles.text, styles.button]}>{children}</Text>\n\t\t</TouchableOpacity>\n\t);\n}\n","import React, { useState, useCallback } from 'react';\nimport { useSocket } from '../hooks';\nimport { Column, Row, Button, Text, Input } from '../components';\nimport styles from '../styles.css';\n\nexport default function Chat() {\n\treturn (\n\t\t<>\n\t\t\t<Messages />\n\t\t\t<Message />\n\t\t</>\n\t);\n}\n\nfunction Messages() {\n\tconst [messages, setMessages] = useState([]);\n\tuseSocket('message', useCallback((message) => setMessages((messages) => [...messages, message]), []));\n\n\treturn (\n\t\t<Column style={styles.chat}>\n\t\t\t{messages.reverse().map(({ user, message }, i) =>\n\t\t\t\t<Text key={i}>\n\t\t\t\t\t{user.name}:\n\t\t\t\t\t<Text style={styles.message}>{message}</Text>\n\t\t\t\t</Text>\n\t\t\t)}\n\t\t</Column>\n\t);\n}\n\nfunction Message() {\n\tconst [message, setMessage] = useState();\n\tconst socket = useSocket();\n\tconst sendMessage = useCallback(() => {\n\t\tif (message)\n\t\t\tsocket.send('message', message)\n\t\tsetMessage('');\n\t}, [socket, message]);\n\t\n\treturn (\n\t\t<Row>\n\t\t\t<Input style={{ flex: 1 }} value={message} onChangeText={setMessage} />\n\t\t\t<Button style={{ alignSelf: 'stretch' }} onPress={sendMessage}>➜</Button>\n\t\t</Row>\n\t);\n}\n"],"sourceRoot":""}